Assignment:  RFID  Card  Top-Up  System
 
Instructor:  Gabriel  Baziramwabo  
Keywords:  RFID  Systems,  IoT  Architecture,  MQTT  Messaging,  Publish‚ÄìSubscribe  Model,  Edge  
Controllers,
 
Cloud-Based
 
Backend
 
Services,
 
Real-Time
 
Web
 
Communication,
 
Embedded
 
Networking
  
1.  Objective  
Design  and  implement  a  complete  RFID  card  top-up  system  using  an  ESP8266,  a  cloud  
backend
 
(VPS),
 
and
 
a
 
web
 
dashboard.
 
The  system  must  allow  multiple  teams  to  operate  simultaneously  on  the  same  MQTT  broker  
without
 
interfering
 
with
 
one
 
another.
 
2.  System  Architecture  
 
RFID  Card  Top-Up  System  Architecture   
Page  1  of  4  

Your  implementation  must  follow  this  architecture  strictly:  
‚óè  ESP8266  (Edge  Controller)  ‚óã  Reads  and  writes  RFID  card  data  ‚óã  Publishes  card  UID  and  balance  via  MQTT  ‚óã  Subscribes  to  top-up  commands  via  MQTT  ‚óã  Must  NOT  use  HTTP  or  WebSocket  ‚óè  Backend  API  Service  (VPS)  ‚óã  Receives  user  commands  via  HTTP  ‚óã  Communicates  with  ESP8266  via  MQTT  ‚óã  Pushes  real-time  updates  to  browsers  via  WebSocket  ‚óè  Web  Dashboard  (Browser)  ‚óã  Sends  top-up  requests  via  HTTP  ‚óã  Receives  balance  updates  via  WebSocket  ‚óã  Must  NOT  communicate  directly  with  MQTT  
 
3.  Critical  Rule:  MQTT  Topic  Isolation  
All  teams  share  the  same  MQTT  broker.  
To  avoid  conflicts,  each  team  must  use  a  unique  topic  namespace.  
Team  Identifier:  
Each
 
team
 
must
 
choose
 
a
 
unique
 
team_id
 
(example:
 
team01,
 
alpha,
 
y2b_grp3).
 
Base  Topic:  
rfid/<team_id>/
  
3.1.  Required  MQTT  Topics  
3.1.1.  Card  status  (ESP8266  ‚Üí  Broker)  
rfid/<team_id>/card/status  
Payload  example:  
{    "uid":  "A1B2C3D4",    "balance":  3000  }  
3.1.2.  Top-up  command  (Backend  ‚Üí  ESP8266)  
rfid/<team_id>/card/topup  
 
 
Page  2  of  4  
Payload  example:  
{    "uid":  "A1B2C3D4",    "amount":  500  }  
3.1.3.  Updated  balance  (ESP8266  ‚Üí  Broker)  
rfid/<team_id>/card/balance  
Payload  example:  
{    "uid":  "A1B2C3D4",    "new_balance":  3500  }  
 
3.2.  Forbidden  Practices  
Using  generic  topics  such  as:  
rfid/card  rfid/topup  balance  
Subscribing  to  wildcard  topics  such  as:  
rfid/#  
Publishing  or  subscribing  to  another  team‚Äôs  namespace  
:: Any  team  interfering  with  others  will  lose  marks.  
 
4.  HTTP  &  WebSocket  Requirements  
‚óè  The  backend  must  expose  at  least:  
POST  /topup  
‚óè  The  dashboard  must:  ‚óã  Send  top-up  commands  via  HTTP  ‚óã  Receive  real-time  updates  via  WebSocket  ‚óã  Polling  is  not  allowed  
  
Page  3  of  4  
5.  Submission  Requirements  
‚óè  Each  team  member  must  individually  push  the  project  files  to  their  own  GitHub  
repository
 ‚óè  The  GitHub  repository  link  must  be  submitted  individually  via  a  Google  Form  shared  
later.
 ‚óè  The  live  dashboard  URL  (hosted  on  the  VPS  or  any  other  hosting  platform)  must  be  
submitted
 
via
 
the
 
same
 
Google
 
Form
 ‚óè  A  quiz  link  will  also  be  included  in  the  same  form  for  assessment  
‚ö†  Repositories  must  be:  
‚óè  Public  ‚óè  Well  structured  ‚óè  Clearly  documented  (README.md  is  mandatory)  
 
6.  Evaluation  Focus  
‚óè  Correct  and  appropriate  use  of  HTTP,  WebSocket,  and  MQTT  ‚óè  Proper  MQTT  topic  isolation  on  the  shared  broker  ‚óè  Complete  end-to-end  system  functionality  ‚óè  System  stability  in  a  shared-broker  environment  ‚óè  Code  clarity,  structure,  and  repository  organization  
üìå  Note:  The  Arduino  IDE  may  be  used;  however,  MicroPython  is  strongly  encouraged .  
Golden  Rule   Devices  speak  MQTT.  Users  speak  HTTP  and  WebSocket.  The  backend  translates  between  them .  
 Final  note
  This  assignment  is  designed  to  test  real-world  IoT  system  design,  not  just  code  execution.  Architectural  violations  will  be  penalized  even  if  the  system  appears  to  work.  
 
 
Page  4  of  4  
